# 数据结构课程设计

#### 作者：张文喆

## 电网建设造价模拟系统

### 0. 项目简介
假设一个城市有n个小区，要实现n个小区之间的电网都能够相互接通，构造这个城市n个小区之间的电网，使总工程造价最低。请设计一个能够满足要求的造价方案。

### 1. 项目运行效果
- 输入顶点数目和名称  
在程序开始运行后，用户应当首先选择A项，输入顶点数量和名称。如果用户试图跳过这一步，那么他们会收到一条错误提示。  
```c++
cout << "请输入顶点的个数：";
int num;
cin >> num;
while (cin.fail() || num < 1)
{
	cerr << "请输入大于0小INT_MAX的顶点个数！" << endl;
	cin.clear();
	cin.ignore();//防止缓冲区溢出
	cin >> num;
}

if (graph != NULL)
	delete graph;
graph = new Graph(num);
...
enterNode(num, graph);
```

- 添加电网的边  
没有添加边的顶点，一概被视为孤立点。在由孤立点的前提下是无法建立最小生成树的。所以用户应当保证自己输入了足够的边，使得整个图是连通的。  
除此之外，由于此处要输入的内容较多，所以在这里添加了许多用于容错的代码，并且合理运用了goto语句，使用户能够重新输入。  

- 构造最小生成树  
在构造最小生成树时，要求：  
  1. 图必须是连通的  
  2. 指定的顶点必须存在于图中  

  若以上两点有任一点不符合要求，用户都将收到一条错误提示。

-  运行截图  
  ![image](./image/run.PNG)

### 2. 概述

- 项目要求  
在每个小区之间都可以设置一条电网线路，都要付出相应的经济代价。n个小区之间最多可以有n（n-1/2条线路，选择其中的n-1条使总的耗费最少。  

- 实现方法  
这是图论中最典型的构建最小生成树的问题，解决方法由Prim算法和Kruskal算法。由于此题要求能够制定起始顶点，故采用Prim算法。

